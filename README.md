# TgStat Webhook Handler

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–µ–±—Ö—É–∫–æ–≤ –æ—Ç TgStat –∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ Telegram –≥—Ä—É–ø–ø—ã.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
pip install -r requirements.txt
```

3. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:
```
BOT_TOKEN=your_telegram_bot_token
```

## –ó–∞–ø—É—Å–∫

```bash
python main.py
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
2. –ü–æ–ª—É—á–∏—Ç–µ URL –¥–ª—è –≤–µ–±—Ö—É–∫–∞: `http://your-domain.com/webhook/{campaign_id}`
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤–µ–±—Ö—É–∫ –≤ TgStat, —É–∫–∞–∑–∞–≤ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π URL
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–∞–º–ø–∞–Ω–∏—é, –æ—Ç–ø—Ä–∞–≤–∏–≤ POST –∑–∞–ø—Ä–æ—Å –Ω–∞ `/start_campaign` —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:
   - campaign_id: –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–∞–º–ø–∞–Ω–∏–∏
   - target_chat: ID –≥—Ä—É–ø–ø—ã –∏–ª–∏ –∫–∞–Ω–∞–ª–∞ Telegram

## API Endpoints

- `GET /` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞
- `POST /webhook/{campaign_id}` - –≠–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤–µ–±—Ö—É–∫–æ–≤ –æ—Ç TgStat
- `POST /start_campaign` - –ó–∞–ø—É—Å–∫ –Ω–æ–≤–æ–π –∫–∞–º–ø–∞–Ω–∏–∏

## –§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏–π

–°–æ–æ–±—â–µ–Ω–∏—è –≤ Telegram –±—É–¥—É—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ñ–æ—Ä–º–∞—Ç–µ:
```
üìù –ù–æ–≤—ã–π –ø–æ—Å—Ç:
[—Ç–µ–∫—Å—Ç –ø–æ—Å—Ç–∞]

üîó –°—Å—ã–ª–∫–∞: [—Å—Å—ã–ª–∫–∞ –Ω–∞ –ø–æ—Å—Ç]
üëÅ –ü—Ä–æ—Å–º–æ—Ç—Ä—ã: [–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤]
üìÖ –î–∞—Ç–∞: [–¥–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏]
``` 